@page "/widget/create"
@inherits WidgetBasePageClass

<PageTitle>Create Widget</PageTitle>

@if (Manufacturers is null ||
    Colours is null ||
    ColourJustifications is null ||
    WidgetStatuses is null)
{
    <LoadingMessageComponent ValueToShow="@Widget" />
    return;
}

<EditForm Model="WidgetDisplayModel" OnValidSubmit="CreateWidget" EditContext="@EditContext">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <WidgetCreateUpdateComponent WidgetDisplayModel="WidgetDisplayModel"
                                 Manufacturers="Manufacturers"
                                 Colours="Colours"
                                 ColourJustifications="ColourJustifications"
                                 WidgetStatuses="WidgetStatuses" />
    
</EditForm>