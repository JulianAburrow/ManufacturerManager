@page "/widget/edit/{WidgetId:int}"
@inherits WidgetBasePageClass

<PageTitle>Edit Widget</PageTitle>

@if (WidgetModel.WidgetId == 0 ||
    Manufacturers is null ||
    Colours is null ||
    ColourJustifications is null ||
    WidgetStatuses is null)
{
    <LoadingMessageComponent ValueToShow="@Widget" />
    return;
}

<EditForm Model="@WidgetDisplayModel" OnValidSubmit="UpdateWidget">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <WidgetCreateUpdateComponent WidgetDisplayModel="WidgetDisplayModel"
                                 Manufacturers="Manufacturers"
                                 Colours="Colours"
                                 ColourJustifications="ColourJustifications"
                                 WidgetStatuses="WidgetStatuses" />

</EditForm>