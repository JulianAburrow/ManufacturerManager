@page "/help"

<PageTitle>Help</PageTitle>

<h1>Help</h1>

Select a category from which you require help and type your question
<MudGrid>
    <MudItem sm="7">
        <MudCard>
            <MudCardContent>
                <MudSelect
                    T="string"
                    id="ddlHelpCategories"
                    Label="Category"
                    data-testid="category-select"
                    @bind-Value="ChatSearchModel.SearchCategory">
                    @foreach (var helpCategory in HelpCategories)
                    {
                        <MudSelectItem T="string" Value="@helpCategory">
                            @helpCategory
                        </MudSelectItem>
                    }
                </MudSelect>
                <MudTextField
                    T="string"
                    id="txtHelpSearch"
                    Label="Type your question here"
                    data-testid="question-input"
                    @bind-Value="ChatSearchModel.SearchQuestion" />
            </MudCardContent>
            <MudCardActions>
                <button class="btn btn-primary" onclick="@OnSearchClicked">Submit</button>
            </MudCardActions>
        </MudCard>
    </MudItem>
</MudGrid>

<br />

@if (_isThinking)
{
    <MudText Typo="Typo.subtitle1" Color="Color.Info">
        🤔 Thinking about it...
    </MudText>
}

@if (MatchingFiles.Count > 0)
{
    <ul>
    @foreach (var file in MatchingFiles)
    {
        <li><DisplayFileComponent FileName="@file" /></li>
    }
    </ul>
}

@if (!string.IsNullOrWhiteSpace(_response))
{
    <MudPaper Class="mt-4 pa-3">
        <MudText Typo="Typo.h6">🧠 Response</MudText>
        <MudText>@_response</MudText>
    </MudPaper>
}
